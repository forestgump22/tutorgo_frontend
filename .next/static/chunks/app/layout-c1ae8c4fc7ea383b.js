(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[185],{1256:function(e,o,t){Promise.resolve().then(t.bind(t,6563))},469:function(e,o){"use strict";o.parse=function(e,o){if("string"!=typeof e)throw TypeError("argument str must be a string");var t={},i=e.length;if(i<2)return t;var n=o&&o.decode||u,a=0,s=0,f=0;do{if(-1===(s=e.indexOf("=",a)))break;if(-1===(f=e.indexOf(";",a)))f=i;else if(s>f){a=e.lastIndexOf(";",s-1)+1;continue}var d=c(e,a,s),p=l(e,s,d),h=e.slice(d,p);if(!r.call(t,h)){var k=c(e,s+1,f),v=l(e,f,k);34===e.charCodeAt(k)&&34===e.charCodeAt(v-1)&&(k++,v--);var y=e.slice(k,v);t[h]=function(e,o){try{return o(e)}catch(o){return e}}(y,n)}a=f+1}while(a<i);return t},o.serialize=function(e,o,r){var c=r&&r.encode||encodeURIComponent;if("function"!=typeof c)throw TypeError("option encode is invalid");if(!i.test(e))throw TypeError("argument name is invalid");var l=c(o);if(!n.test(l))throw TypeError("argument val is invalid");var u=e+"="+l;if(!r)return u;if(null!=r.maxAge){var f=Math.floor(r.maxAge);if(!isFinite(f))throw TypeError("option maxAge is invalid");u+="; Max-Age="+f}if(r.domain){if(!a.test(r.domain))throw TypeError("option domain is invalid");u+="; Domain="+r.domain}if(r.path){if(!s.test(r.path))throw TypeError("option path is invalid");u+="; Path="+r.path}if(r.expires){var d=r.expires;if("[object Date]"!==t.call(d)||isNaN(d.valueOf()))throw TypeError("option expires is invalid");u+="; Expires="+d.toUTCString()}if(r.httpOnly&&(u+="; HttpOnly"),r.secure&&(u+="; Secure"),r.partitioned&&(u+="; Partitioned"),r.priority)switch("string"==typeof r.priority?r.priority.toLowerCase():r.priority){case"low":u+="; Priority=Low";break;case"medium":u+="; Priority=Medium";break;case"high":u+="; Priority=High";break;default:throw TypeError("option priority is invalid")}if(r.sameSite)switch("string"==typeof r.sameSite?r.sameSite.toLowerCase():r.sameSite){case!0:case"strict":u+="; SameSite=Strict";break;case"lax":u+="; SameSite=Lax";break;case"none":u+="; SameSite=None";break;default:throw TypeError("option sameSite is invalid")}return u};var t=Object.prototype.toString,r=Object.prototype.hasOwnProperty,i=/^[!#$%&'*+\-.^_`|~0-9A-Za-z]+$/,n=/^("?)[\u0021\u0023-\u002B\u002D-\u003A\u003C-\u005B\u005D-\u007E]*\1$/,a=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,s=/^[\u0020-\u003A\u003D-\u007E]*$/;function c(e,o,t){do{var r=e.charCodeAt(o);if(32!==r&&9!==r)return o}while(++o<t);return t}function l(e,o,t){for(;o>t;){var r=e.charCodeAt(--o);if(32!==r&&9!==r)return o+1}return t}function u(e){return -1!==e.indexOf("%")?decodeURIComponent(e):e}},1614:function(e,o,t){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var o,t=1,r=arguments.length;t<r;t++)for(var i in o=arguments[t])Object.prototype.hasOwnProperty.call(o,i)&&(e[i]=o[i]);return e}).apply(this,arguments)},i=this&&this.__rest||function(e,o){var t={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&0>o.indexOf(r)&&(t[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)0>o.indexOf(r[i])&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(t[r[i]]=e[r[i]]);return t};Object.defineProperty(o,"__esModule",{value:!0}),o.hasCookie=o.deleteCookie=o.setCookie=o.getCookie=o.getCookies=void 0;var n=t(469),a=function(){return"undefined"!=typeof window},s=function(e){return!!e&&"getAll"in e&&"set"in e&&"function"==typeof e.getAll&&"function"==typeof e.set},c=function(e){return!!(null==e?void 0:e.req)&&"cookies"in e.req&&s(null==e?void 0:e.req.cookies)||!!(null==e?void 0:e.res)&&"cookies"in e.res&&s(null==e?void 0:e.res.cookies)||!!(null==e?void 0:e.cookies)&&s(e.cookies())},l=function(e){var o={};return e.getAll().forEach(function(e){var t=e.name,r=e.value;o[t]=r}),o},u=function(e){try{if("string"==typeof e)return e;return JSON.stringify(e)}catch(o){return e}};o.getCookies=function(e){if(c(e)){if(null==e?void 0:e.req)return l(e.req.cookies);if(null==e?void 0:e.cookies)return l(e.cookies())}if(e&&(o=e.req),!a())return o&&o.cookies?o.cookies:o&&o.headers.cookie?(0,n.parse)(o.headers.cookie):{};for(var o,t={},r=document.cookie?document.cookie.split("; "):[],i=0,s=r.length;i<s;i++){var u=r[i].split("="),f=u.slice(1).join("=");t[u[0]]=f}return t},o.getCookie=function(e,t){var r=(0,o.getCookies)(t)[e];if(void 0!==r)return r?r.replace(/(%[0-9A-Z]{2})+/g,decodeURIComponent):r},o.setCookie=function(e,o,t){if(c(t)){var s,l,f,d=t.req,p=t.res,h=t.cookies,k=i(t,["req","res","cookies"]),v=r({name:e,value:u(o)},k);d&&d.cookies.set(v),p&&p.cookies.set(v),h&&h().set(v);return}if(t){var d=t.req,p=t.res,y=i(t,["req","res"]);l=d,f=p,s=y}var g=(0,n.serialize)(e,u(o),r({path:"/"},s));if(a())document.cookie=g;else if(f&&l){var m=f.getHeader("Set-Cookie");if(Array.isArray(m)||(m=m?[String(m)]:[]),f.setHeader("Set-Cookie",m.concat(g)),l&&l.cookies){var b=l.cookies;""===o?delete b[e]:b[e]=u(o)}if(l&&l.headers&&l.headers.cookie){var b=(0,n.parse)(l.headers.cookie);""===o?delete b[e]:b[e]=u(o),l.headers.cookie=Object.entries(b).reduce(function(e,o){return e.concat("".concat(o[0],"=").concat(o[1],";"))},"")}}},o.deleteCookie=function(e,t){return(0,o.setCookie)(e,"",r(r({},t),{maxAge:-1}))},o.hasCookie=function(e,t){return!!e&&(0,o.getCookies)(t).hasOwnProperty(e)}},6563:function(e,o,t){"use strict";t.r(o),t.d(o,{default:function(){return u}});var r=t(7437),i=t(6074),n=t.n(i);t(2778);var a=t(2265),s=t(8229),c=t(2223);let l="420000162429-uu7kr87p4qaq7oua5r5rtprqegil7qro.apps.googleusercontent.com";function u(e){let{children:o}=e,t=(0,c.t)(e=>e.hydrateAuth);return((0,a.useEffect)(()=>{t()},[t]),l)?(0,r.jsx)("html",{lang:"es",children:(0,r.jsx)("body",{className:"".concat(n().className," flex flex-col min-h-screen"),children:(0,r.jsx)(s.rg,{clientId:l,children:o})})}):(console.error("Falta el ID de cliente de Google. A\xf1ade NEXT_PUBLIC_GOOGLE_CLIENT_ID a tu .env.local"),(0,r.jsx)("html",{lang:"es",children:(0,r.jsx)("body",{className:"".concat(n().className," flex flex-col min-h-screen"),children:o})}))}},2223:function(e,o,t){"use strict";t.d(o,{t:function(){return a}});var r=t(9625),i=t(1614),n=t(4474);let a=(0,r.Ue)((e,o)=>({token:null,user:null,isLoading:!0,setAuth:(o,t)=>{e({token:o,user:t,isLoading:!1})},logout:()=>{e({token:null,user:null,isLoading:!1})},hydrateAuth:()=>{{let o=(0,i.getCookie)("token");if(o)try{let t=(0,n.o)(o),r="ESTUDIANTE";t.roles&&t.roles.toUpperCase().includes("TUTOR")&&(r="TUTOR");let i={id:t.userId,email:t.sub,nombre:t.nombre,rol:r};e({token:o,user:i,isLoading:!1})}catch(o){console.error("Error decodificando token al hidratar o token inv\xe1lido:",o),(0,i.deleteCookie)("token",{path:"/"}),e({token:null,user:null,isLoading:!1})}else e({isLoading:!1})}},isAuthenticated:()=>!!o().token,updateUser:o=>{e(e=>({...e,user:o}))}}))},2778:function(){},6074:function(e){e.exports={style:{fontFamily:"'__Poppins_6bee3b', '__Poppins_Fallback_6bee3b'",fontStyle:"normal"},className:"__className_6bee3b"}}},function(e){e.O(0,[461,760,735,971,117,744],function(){return e(e.s=1256)}),_N_E=e.O()}]);