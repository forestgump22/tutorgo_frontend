(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[297],{9775:function(e,t,a){Promise.resolve().then(a.bind(a,5588))},5588:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return O}});var s=a(7437),r=a(2265),n=a(7648),i=a(9376),o=a(2223),l=a(2381),d=a(6246),c=a(5466),u=a(7815),f=a(5621),m=a(4766),h=a(8728),x=a(3011),b=a(1047),p=a(5900),g=a(8226),v=a(3247),N=a(7692),j=a(8293),y=a(1614),w=a(9027),k=a(535),C=a(2489),R=a(3448);let T=w.fC,U=w.xz;w.x8;let Z=w.h_,A=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)(w.aV,{className:(0,R.cn)("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",a),...r,ref:t})});A.displayName=w.aV.displayName;let z=(0,k.j)("fixed z-50 gap-4 bg-background p-6 shadow-lg transition ease-in-out data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:duration-300 data-[state=open]:duration-500",{variants:{side:{top:"inset-x-0 top-0 border-b data-[state=closed]:slide-out-to-top data-[state=open]:slide-in-from-top",bottom:"inset-x-0 bottom-0 border-t data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom",left:"inset-y-0 left-0 h-full w-3/4 border-r data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left sm:max-w-sm",right:"inset-y-0 right-0 h-full w-3/4  border-l data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right sm:max-w-sm"}},defaultVariants:{side:"right"}}),_=r.forwardRef((e,t)=>{let{side:a="right",className:r,children:n,...i}=e;return(0,s.jsxs)(Z,{children:[(0,s.jsx)(A,{}),(0,s.jsxs)(w.VY,{ref:t,className:(0,R.cn)(z({side:a}),r),...i,children:[n,(0,s.jsxs)(w.x8,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-secondary",children:[(0,s.jsx)(C.Z,{className:"h-4 w-4"}),(0,s.jsx)("span",{className:"sr-only",children:"Close"})]})]})]})});function O(e){let{children:t}=e,a=(0,o.t)(e=>e.user),r=(0,o.t)(e=>e.logout),w=(0,i.useRouter)(),k=(0,i.usePathname)(),C=()=>{r(),(0,y.deleteCookie)("token",{path:"/"}),w.push("/login")},R=(()=>{let e=[{href:"/dashboard",label:"Dashboard",icon:c.Z},{href:"/perfil",label:"Mi Perfil",icon:u.Z},{href:"/historial-pagos",label:"Historial Pagos",icon:f.Z},{href:"/mis-notificaciones",label:"Notificaciones",icon:m.Z},{href:"/cambiar-contrasena",label:"Seguridad",icon:h.Z}];return(null==a?void 0:a.rol)==="TUTOR"?[...e,{href:"/mis-clases",label:"Mis Clases",icon:x.Z},{href:"/mi-disponibilidad",label:"Mi Disponibilidad",icon:b.Z}]:[...e,{href:"/mis-tutorias",label:"Mis Tutor\xedas",icon:p.Z},{href:"/metodos-pago",label:"M\xe9todos de Pago",icon:g.Z},{href:"/buscar-tutores",label:"Buscar Tutores",icon:v.Z}]})(),Z=()=>{var e;return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("div",{className:"p-4 border-b border-sidebar-border",children:(0,s.jsxs)(n.default,{href:"/dashboard",className:"flex items-center",children:[(0,s.jsx)("div",{className:"text-2xl font-bold text-blue-400",children:"TUTOR"}),(0,s.jsx)("span",{className:"text-2xl font-bold text-white bg-blue-600 px-2 rounded-md ml-1",children:"GO"})]})}),(0,s.jsx)("div",{className:"p-4 mt-4",children:(0,s.jsxs)("div",{className:"flex items-center gap-3",children:[(0,s.jsxs)(d.Avatar,{className:"h-12 w-12",children:[(0,s.jsx)(d.AvatarImage,{src:(null==a?void 0:a.fotoUrl)||"https://ui-avatars.com/api/?name=".concat(encodeURIComponent((null==a?void 0:a.nombre)||"U"))}),(0,s.jsx)(d.AvatarFallback,{className:"bg-gray-600 text-white",children:null==a?void 0:null===(e=a.nombre)||void 0===e?void 0:e.charAt(0).toUpperCase()})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"font-medium text-white break-all",children:null==a?void 0:a.nombre}),(0,s.jsx)("p",{className:"text-xs text-gray-400 break-all",children:null==a?void 0:a.email})]})]})}),(0,s.jsx)("nav",{className:"flex-1 p-4",children:(0,s.jsx)("div",{className:"space-y-1",children:R.map(e=>{let t=k===e.href;return(0,s.jsxs)(n.default,{href:e.href,className:"flex items-center gap-3 px-3 py-2.5 rounded-lg transition-colors text-sm font-medium ".concat(t?"bg-sidebar-primary text-sidebar-primary-foreground":"text-sidebar-foreground hover:bg-sidebar-accent hover:text-sidebar-accent-foreground"),children:[(0,s.jsx)(e.icon,{className:"h-4 w-4"}),e.label]},e.href)})})}),(0,s.jsx)("div",{className:"p-4 border-t border-sidebar-border mt-auto",children:(0,s.jsxs)(l.z,{variant:"ghost",className:"w-full justify-start text-sidebar-foreground hover:text-white hover:bg-sidebar-accent",onClick:C,children:[(0,s.jsx)(N.Z,{className:"h-4 w-4 mr-3"}),"Cerrar Sesi\xf3n"]})})]})};return(0,s.jsxs)("div",{className:"min-h-screen bg-gray-100 flex",children:[(0,s.jsx)("aside",{className:"bg-sidebar text-sidebar-foreground w-64 min-h-screen flex-col hidden md:flex",children:(0,s.jsx)(Z,{})}),(0,s.jsxs)("div",{className:"flex-1 flex flex-col",children:[(0,s.jsxs)("header",{className:"md:hidden bg-white shadow-sm border-b p-4 flex justify-between items-center sticky top-0 z-40",children:[(0,s.jsxs)(n.default,{href:"/dashboard",className:"flex items-center",children:[(0,s.jsx)("div",{className:"text-xl font-bold text-blue-600",children:"TUTOR"}),(0,s.jsx)("span",{className:"text-xl font-bold text-white bg-blue-600 px-1.5 rounded-md ml-1",children:"GO"})]}),(0,s.jsxs)(T,{children:[(0,s.jsx)(U,{asChild:!0,children:(0,s.jsx)(l.z,{variant:"ghost",size:"icon",children:(0,s.jsx)(j.Z,{className:"h-6 w-6"})})}),(0,s.jsx)(_,{side:"left",className:"w-72 bg-sidebar text-sidebar-foreground p-0 flex flex-col",children:(0,s.jsx)(Z,{})})]})]}),(0,s.jsx)("main",{className:"flex-1 p-4 sm:p-6 md:p-8 overflow-y-auto",children:t})]})]})}_.displayName=w.VY.displayName,r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)(w.Dx,{ref:t,className:(0,R.cn)("text-lg font-semibold text-foreground",a),...r})}).displayName=w.Dx.displayName,r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)(w.dk,{ref:t,className:(0,R.cn)("text-sm text-muted-foreground",a),...r})}).displayName=w.dk.displayName},6246:function(e,t,a){"use strict";a.d(t,{Avatar:function(){return o},AvatarFallback:function(){return d},AvatarImage:function(){return l}});var s=a(7437),r=a(2265),n=a(4930),i=a(3448);let o=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)(n.fC,{ref:t,className:(0,i.cn)("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",a),...r})});o.displayName=n.fC.displayName;let l=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)(n.Ee,{ref:t,className:(0,i.cn)("aspect-square h-full w-full",a),...r})});l.displayName=n.Ee.displayName;let d=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)(n.NY,{ref:t,className:(0,i.cn)("flex h-full w-full items-center justify-center rounded-full bg-muted",a),...r})});d.displayName=n.NY.displayName},2381:function(e,t,a){"use strict";a.d(t,{d:function(){return l},z:function(){return d}});var s=a(7437),r=a(2265),n=a(7053),i=a(535),o=a(3448);let l=(0,i.j)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),d=r.forwardRef((e,t)=>{let{className:a,variant:r,size:i,asChild:d=!1,...c}=e,u=d?n.g7:"button";return(0,s.jsx)(u,{className:(0,o.cn)(l({variant:r,size:i,className:a})),ref:t,...c})});d.displayName="Button"},3448:function(e,t,a){"use strict";a.d(t,{cn:function(){return n}});var s=a(1994),r=a(3335);function n(){for(var e=arguments.length,t=Array(e),a=0;a<e;a++)t[a]=arguments[a];return(0,r.m6)((0,s.W)(t))}},2223:function(e,t,a){"use strict";a.d(t,{t:function(){return i}});var s=a(9625),r=a(1614),n=a(4474);let i=(0,s.Ue)((e,t)=>({token:null,user:null,isLoading:!0,setAuth:(t,a)=>{e({token:t,user:a,isLoading:!1})},logout:()=>{e({token:null,user:null,isLoading:!1})},hydrateAuth:()=>{{let t=(0,r.getCookie)("token");if(t)try{let a=(0,n.o)(t),s="ESTUDIANTE";a.roles&&a.roles.toUpperCase().includes("TUTOR")&&(s="TUTOR");let r={id:a.userId,email:a.sub,nombre:a.nombre,rol:s};e({token:t,user:r,isLoading:!1})}catch(t){console.error("Error decodificando token al hidratar o token inv\xe1lido:",t),(0,r.deleteCookie)("token",{path:"/"}),e({token:null,user:null,isLoading:!1})}else e({isLoading:!1})}},isAuthenticated:()=>!!t().token,updateUser:t=>{e(e=>({...e,user:t}))}}))}},function(e){e.O(0,[14,972,514,936,67,971,117,744],function(){return e(e.s=9775)}),_N_E=e.O()}]);