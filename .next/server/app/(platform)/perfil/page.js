(()=>{var e={};e.id=941,e.ids=[941],e.modules={72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},27790:e=>{"use strict";e.exports=require("assert")},84770:e=>{"use strict";e.exports=require("crypto")},17702:e=>{"use strict";e.exports=require("events")},92048:e=>{"use strict";e.exports=require("fs")},32615:e=>{"use strict";e.exports=require("http")},35240:e=>{"use strict";e.exports=require("https")},19801:e=>{"use strict";e.exports=require("os")},55315:e=>{"use strict";e.exports=require("path")},76162:e=>{"use strict";e.exports=require("stream")},74175:e=>{"use strict";e.exports=require("tty")},17360:e=>{"use strict";e.exports=require("url")},21764:e=>{"use strict";e.exports=require("util")},71568:e=>{"use strict";e.exports=require("zlib")},30756:(e,r,t)=>{"use strict";t.r(r),t.d(r,{GlobalError:()=>i.a,__next_app__:()=>p,originalPathname:()=>u,pages:()=>c,routeModule:()=>m,tree:()=>d}),t(45415),t(65027),t(35866),t(32029);var a=t(23191),s=t(88716),o=t(37922),i=t.n(o),l=t(95231),n={};for(let e in l)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(n[e]=()=>l[e]);t.d(r,n);let d=["",{children:["(platform)",{children:["perfil",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(t.bind(t,45415)),"C:\\Users\\imano\\Documents\\GitHub\\tutorgo-frontend\\tutorgo_frontend\\src\\app\\(platform)\\perfil\\page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(t.bind(t,65027)),"C:\\Users\\imano\\Documents\\GitHub\\tutorgo-frontend\\tutorgo_frontend\\src\\app\\(platform)\\layout.tsx"],"not-found":[()=>Promise.resolve().then(t.t.bind(t,35866,23)),"next/dist/client/components/not-found-error"]}]},{layout:[()=>Promise.resolve().then(t.bind(t,32029)),"C:\\Users\\imano\\Documents\\GitHub\\tutorgo-frontend\\tutorgo_frontend\\src\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(t.t.bind(t,35866,23)),"next/dist/client/components/not-found-error"]}],c=["C:\\Users\\imano\\Documents\\GitHub\\tutorgo-frontend\\tutorgo_frontend\\src\\app\\(platform)\\perfil\\page.tsx"],u="/(platform)/perfil/page",p={require:t,loadChunk:()=>Promise.resolve()},m=new a.AppPageRouteModule({definition:{kind:s.x.APP_PAGE,page:"/(platform)/perfil/page",pathname:"/perfil",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},37468:(e,r,t)=>{Promise.resolve().then(t.bind(t,95132))},41291:(e,r,t)=>{"use strict";t.d(r,{Z:()=>a});let a=(0,t(62881).Z)("circle-alert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]])},30361:(e,r,t)=>{"use strict";t.d(r,{Z:()=>a});let a=(0,t(62881).Z)("circle-check-big",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]])},77506:(e,r,t)=>{"use strict";t.d(r,{Z:()=>a});let a=(0,t(62881).Z)("loader-circle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]])},95132:(e,r,t)=>{"use strict";t.r(r),t.d(r,{default:()=>v});var a=t(10326),s=t(17577),o=t(26172),i=t(99734),l=t(90764),n=t(29752),d=t(91664),c=t(41190),u=t(27299),p=t(3594),m=t(33261),f=t(77506),x=t(30361),g=t(41291);let h=(0,t(62881).Z)("camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]);function v(){let{user:e,updateUser:r,isLoading:t}=(0,o.t)(),[v,b]=(0,s.useState)(""),[y,j]=(0,s.useState)(""),[N,w]=(0,s.useState)(""),[P,Z]=(0,s.useState)(null),[_,k]=(0,s.useState)(null),[q,C]=(0,s.useState)(!1),E=async t=>{if(t.preventDefault(),C(!0),Z(null),k(null),!v.trim()){Z("El nombre no puede estar vac\xedo."),C(!1);return}let a=[(0,i.Lj)({nombre:v,fotoUrl:y})];e?.rol==="TUTOR"&&a.push((0,l.Fv)(N));try{let[t]=await Promise.all(a);if(e&&t){let a={...e,...t,tutorProfile:e.tutorProfile?{...e.tutorProfile,bio:N}:void 0};r(a)}k("Perfil actualizado correctamente.")}catch(e){Z(e.message)}finally{C(!1)}};return t||!e?a.jsx("div",{className:"flex items-center justify-center py-20",children:a.jsx(f.Z,{className:"h-8 w-8 animate-spin text-primary"})}):(0,a.jsxs)("div",{className:"max-w-4xl mx-auto space-y-6",children:[(0,a.jsxs)("div",{className:"mb-8",children:[a.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Mi Perfil"}),a.jsx("p",{className:"text-muted-foreground",children:"Actualiza tu informaci\xf3n personal y foto de perfil."})]}),_&&(0,a.jsxs)(m.bZ,{className:"mb-6 border-green-200 bg-green-50 text-green-700",children:[a.jsx(x.Z,{className:"h-4 w-4"}),a.jsx(m.X,{children:_})]}),P&&(0,a.jsxs)(m.bZ,{variant:"destructive",className:"mb-6",children:[a.jsx(g.Z,{className:"h-4 w-4"}),a.jsx(m.X,{children:P})]}),(0,a.jsxs)(n.Zb,{children:[(0,a.jsxs)(n.Ol,{children:[a.jsx(n.ll,{children:"Informaci\xf3n del Perfil"}),a.jsx(n.SZ,{children:"Estos datos son visibles para otros usuarios en la plataforma."})]}),a.jsx(n.aY,{children:(0,a.jsxs)("form",{onSubmit:E,className:"space-y-6",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-6",children:[(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsxs)(p.Avatar,{className:"h-24 w-24",children:[a.jsx(p.AvatarImage,{src:y||`https://ui-avatars.com/api/?name=${encodeURIComponent(v)}&background=0D8ABC&color=fff&size=96`,alt:"Avatar"}),a.jsx(p.AvatarFallback,{children:v?.charAt(0).toUpperCase()})]}),a.jsx(d.z,{type:"button",size:"icon",variant:"outline",className:"absolute -bottom-1 -right-1 h-8 w-8 rounded-full bg-background",children:a.jsx(h,{className:"h-4 w-4"})})]}),(0,a.jsxs)("div",{className:"w-full space-y-2",children:[a.jsx(u._,{htmlFor:"email",children:"Correo Electr\xf3nico (no se puede cambiar)"}),a.jsx(c.I,{id:"email",type:"email",value:e.email,disabled:!0})]})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{className:"space-y-2",children:[a.jsx(u._,{htmlFor:"nombre",children:"Nombre Completo"}),a.jsx(c.I,{id:"nombre",value:v,onChange:e=>b(e.target.value),required:!0})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[a.jsx(u._,{htmlFor:"fotoUrl",children:"URL de la Foto de Perfil"}),a.jsx(c.I,{id:"fotoUrl",type:"url",placeholder:"https://ejemplo.com/imagen.png",value:y,onChange:e=>j(e.target.value)})]})]}),a.jsx("div",{className:"flex justify-end pt-4",children:(0,a.jsxs)(d.z,{type:"submit",disabled:q,children:[q&&a.jsx(f.Z,{className:"mr-2 h-4 w-4 animate-spin"}),q?"Guardando...":"Guardar Cambios"]})})]})})]})]})}},33261:(e,r,t)=>{"use strict";t.d(r,{X:()=>d,bZ:()=>n});var a=t(10326),s=t(17577),o=t(79360),i=t(51223);let l=(0,o.j)("relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),n=s.forwardRef(({className:e,variant:r,...t},s)=>a.jsx("div",{ref:s,role:"alert",className:(0,i.cn)(l({variant:r}),e),...t}));n.displayName="Alert",s.forwardRef(({className:e,...r},t)=>a.jsx("h5",{ref:t,className:(0,i.cn)("mb-1 font-medium leading-none tracking-tight",e),...r})).displayName="AlertTitle";let d=s.forwardRef(({className:e,...r},t)=>a.jsx("div",{ref:t,className:(0,i.cn)("text-sm [&_p]:leading-relaxed",e),...r}));d.displayName="AlertDescription"},29752:(e,r,t)=>{"use strict";t.d(r,{Ol:()=>l,SZ:()=>d,Zb:()=>i,aY:()=>c,ll:()=>n});var a=t(10326),s=t(17577),o=t(51223);let i=s.forwardRef(({className:e,...r},t)=>a.jsx("div",{ref:t,className:(0,o.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",e),...r}));i.displayName="Card";let l=s.forwardRef(({className:e,...r},t)=>a.jsx("div",{ref:t,className:(0,o.cn)("flex flex-col space-y-1.5 p-6",e),...r}));l.displayName="CardHeader";let n=s.forwardRef(({className:e,...r},t)=>a.jsx("div",{ref:t,className:(0,o.cn)("text-2xl font-semibold leading-none tracking-tight",e),...r}));n.displayName="CardTitle";let d=s.forwardRef(({className:e,...r},t)=>a.jsx("div",{ref:t,className:(0,o.cn)("text-sm text-muted-foreground",e),...r}));d.displayName="CardDescription";let c=s.forwardRef(({className:e,...r},t)=>a.jsx("div",{ref:t,className:(0,o.cn)("p-6 pt-0",e),...r}));c.displayName="CardContent",s.forwardRef(({className:e,...r},t)=>a.jsx("div",{ref:t,className:(0,o.cn)("flex items-center p-6 pt-0",e),...r})).displayName="CardFooter"},41190:(e,r,t)=>{"use strict";t.d(r,{I:()=>i});var a=t(10326),s=t(17577),o=t(51223);let i=s.forwardRef(({className:e,type:r,...t},s)=>a.jsx("input",{type:r,className:(0,o.cn)("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),ref:s,...t}));i.displayName="Input"},27299:(e,r,t)=>{"use strict";t.d(r,{_:()=>c});var a=t(10326),s=t(17577),o=t(45226),i=s.forwardRef((e,r)=>(0,a.jsx)(o.WV.label,{...e,ref:r,onMouseDown:r=>{r.target.closest("button, input, select, textarea")||(e.onMouseDown?.(r),!r.defaultPrevented&&r.detail>1&&r.preventDefault())}}));i.displayName="Label";var l=t(79360),n=t(51223);let d=(0,l.j)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),c=s.forwardRef(({className:e,...r},t)=>a.jsx(i,{ref:t,className:(0,n.cn)(d(),e),...r}));c.displayName=i.displayName},18069:(e,r,t)=>{"use strict";t.d(r,{Z:()=>i});var a=t(44099),s=t(86615);let o=a.Z.create({baseURL:"https://tutorgo-api.onrender.com/api/v1",headers:{"Content-Type":"application/json"}});console.log(o.defaults.baseURL),o.interceptors.request.use(e=>{let r=(0,s.getCookie)("token");return r&&(e.headers.Authorization=`Bearer ${r}`),e},e=>Promise.reject(e));let i=o},90764:(e,r,t)=>{"use strict";t.d(r,{Fv:()=>o,Y2:()=>s});var a=t(18069);let s=async e=>{try{return e.has("page")||e.set("page","0"),e.has("size")||e.set("size","9"),(await a.Z.get(`/tutores?${e.toString()}`)).data}catch(e){throw console.error("Error al buscar tutores:",e),Error(e.response?.data?.message||"No se pudo cargar la lista de tutores.")}},o=async e=>{try{await a.Z.put("/tutores/me/bio",{bio:e})}catch(e){throw Error(e.response?.data?.message||"No se pudo actualizar la biograf\xeda.")}}},99734:(e,r,t)=>{"use strict";t.d(r,{Lj:()=>o,Zy:()=>s,ai:()=>i});var a=t(18069);let s=async e=>{try{let r=await a.Z.put("/users/me/password",e);if(r.data.success)return r.data;throw Error(r.data.message||"Error al actualizar la contrase\xf1a.")}catch(e){throw Error(e.response?.data?.message||e.message||"Error desconocido al actualizar la contrase\xf1a.")}},o=async e=>{try{let r=await a.Z.put("/users/me/profile",e);if(r.data.success&&r.data.data)return r.data.data;throw Error(r.data.message||"Error al actualizar el perfil.")}catch(e){throw Error(e.response?.data?.message||"Error desconocido al actualizar el perfil.")}},i=async()=>{try{return(await a.Z.delete("/users/me")).data}catch(e){throw Error(e.response?.data?.message||"Error desconocido al eliminar el perfil.")}}},45415:(e,r,t)=>{"use strict";t.r(r),t.d(r,{default:()=>a});let a=(0,t(68570).createProxy)(String.raw`C:\Users\imano\Documents\GitHub\tutorgo-frontend\tutorgo_frontend\src\app\(platform)\perfil\page.tsx#default`)}};var r=require("../../../webpack-runtime.js");r.C(e);var t=e=>r(r.s=e),a=r.X(0,[948,122,210,99,908,464,411],()=>t(30756));module.exports=a})();